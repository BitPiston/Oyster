CodeMirror.defineMode("xml",function(u,r){function k(a,c){function b(d){c.tokenize=d;return d(a,c)}var d=a.next();if("<"==d){if(a.eat("!"))return a.eat("[")?a.match("CDATA[")?b(n("atom","]]\>")):null:a.match("--")?b(n("comment","--\>")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),b(o(1))):null;if(a.eat("?"))return a.eatWhile(/[\w\._\-]/),c.tokenize=n("meta","?>"),"meta";h=a.eat("/")?"closeTag":"openTag";a.eatSpace();for(i="";d=a.eat(/[^\s\u00a0=<>\"\'\/?]/);)i+=d;c.tokenize=p;return"tag"}if("&"==
d)return(a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"))?"atom":"error";a.eatWhile(/[^&<]/);return null}function p(a,c){var b=a.next();if(">"==b||"/"==b&&a.eat(">"))return c.tokenize=k,h=">"==b?"endTag":"selfcloseTag","tag";if("="==b)return h="equals",null;if(/[\'\"]/.test(b))return c.tokenize=function(a,c){for(;!a.eol();)if(a.next()==b){c.tokenize=p;break}return"string"},c.tokenize(a,c);a.eatWhile(/[^\s\u00a0=<>\"\'\/?]/);
return"word"}function n(a,c){return function(b,d){for(;!b.eol();){if(b.match(c)){d.tokenize=k;break}b.next()}return a}}function o(a){return function(c,b){for(var d;null!=(d=c.next());){if("<"==d)return b.tokenize=o(a+1),b.tokenize(c,b);if(">"==d)if(1==a){b.tokenize=k;break}else return b.tokenize=o(a-1),b.tokenize(c,b)}return"meta"}}function l(){for(var a=arguments.length-1;0<=a;a--)e.cc.push(arguments[a])}function f(){l.apply(null,arguments);return!0}function q(){e.context&&(e.context=e.context.prev)}
function v(a){if("openTag"==a){e.tagName=i;var c=e.startOfLine;return f(m,function(a){if("selfcloseTag"==a||"endTag"==a&&j.autoSelfClosers.hasOwnProperty(e.tagName.toLowerCase()))return s(e.tagName.toLowerCase()),f();if("endTag"==a){s(e.tagName.toLowerCase());var a=e.tagName,b=j.doNotIndent.hasOwnProperty(a)||e.context&&e.context.noIndent;e.context={prev:e.context,tagName:a,indent:e.indented,startOfLine:c,noIndent:b}}return f()})}if("closeTag"==a){a=!1;e.context?e.context.tagName!=i&&(j.implicitlyClosed.hasOwnProperty(e.context.tagName.toLowerCase())&&
q(),a=!e.context||e.context.tagName!=i):a=!0;a&&(g="error");var b=a;return f(function(a){b&&(g="error");if(a=="endTag"){q();return f()}g="error";return f(arguments.callee)})}return f()}function s(a){for(var c;e.context;){c=e.context.tagName.toLowerCase();if(!j.contextGrabbers.hasOwnProperty(c)||!j.contextGrabbers[c].hasOwnProperty(a))break;q()}}function m(a){if("word"==a)return g="attribute",f(w,m);if("endTag"==a||"selfcloseTag"==a)return l();g="error";return f(m)}function w(a){if("equals"==a)return f(x,
m);j.allowMissing||(g="error");return"endTag"==a||"selfcloseTag"==a?l():f()}function x(a){if("string"==a)return f(t);if("word"==a&&j.allowUnquoted)return g="string",f();g="error";return"endTag"==a||"selfCloseTag"==a?l():f()}function t(a){return"string"==a?f(t):l()}var y=u.indentUnit,j=r.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,
p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},
thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!1}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1},z=r.alignCDATA,i,h,e,g;return{startState:function(){return{tokenize:k,cc:[],indented:0,startOfLine:!0,tagName:null,context:null}},token:function(a,c){a.sol()&&(c.startOfLine=!0,c.indented=a.indentation());if(a.eatSpace())return null;g=h=i=null;var b=c.tokenize(a,c);c.type=h;if((b||h)&&"comment"!=b)for(e=
c;!(c.cc.pop()||v)(h||b););c.startOfLine=!1;return g||b},indent:function(a,c,b){var d=a.context;if(a.tokenize!=p&&a.tokenize!=k||d&&d.noIndent)return b?b.match(/^(\s*)/)[0].length:0;if(z&&/<!\[CDATA\[/.test(c))return 0;d&&/^<\//.test(c)&&(d=d.prev);for(;d&&!d.startOfLine;)d=d.prev;return d?d.indent+y:0},compareStates:function(a,c){if(a.indented!=c.indented||a.tokenize!=c.tokenize)return!1;for(var b=a.context,d=c.context;;b=b.prev,d=d.prev){if(!b||!d)return b==d;if(b.tagName!=d.tagName||b.indent!=
d.indent)return!1}},electricChars:"/"}});CodeMirror.defineMIME("text/xml","xml");CodeMirror.defineMIME("application/xml","xml");CodeMirror.mimeModes.hasOwnProperty("text/html")||CodeMirror.defineMIME("text/html",{name:"xml",htmlMode:!0});